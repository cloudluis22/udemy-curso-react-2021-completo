{"ast":null,"code":"import types from '../types/types';\nimport { firebase, googleAuthProvider } from '../firebase/firebaseConfig';\nimport Swal from 'sweetalert2';\nimport { finishLoading, removeErrorAction, setErrorAction, startLoading } from '../actions/ui';\nimport { noteLogout } from './notes';\nexport const startLoginEmailPassword = (email, password) => {\n  return dispatch => {\n    dispatch(startLoading());\n    firebase.auth().signInWithEmailAndPassword(email, password).then(({\n      user\n    }) => {\n      console.log(user);\n      dispatch(login(user.uid, user.displayName));\n      dispatch(removeErrorAction());\n      dispatch(finishLoading());\n    }).catch(() => {\n      dispatch(finishLoading());\n      Swal.fire('Oops!', 'There were no accounts found with the provided credentials.', 'error');\n    });\n  };\n};\nexport const startRegisterWithEmailPasswordName = (email, password, name) => {\n  return dispatch => {\n    firebase.auth().createUserWithEmailAndPassword(email, password).then(async ({\n      user\n    }) => {\n      await user.updateProfile({\n        displayName: name\n      });\n      console.log(user);\n      dispatch(login(user.uid, user.displayName));\n    }).catch(e => {\n      Swal.fire('Oops!', e.message, 'error');\n    });\n  };\n};\nexport const startGoogleLogin = () => {\n  return dispatch => {\n    firebase.auth().signInWithPopup(googleAuthProvider).then(({\n      user\n    }) => {\n      dispatch(login(user.uid, user.displayName));\n    });\n  };\n};\nexport const login = (uid, displayName) => {\n  return {\n    type: types.login,\n    payload: {\n      uid,\n      displayName\n    }\n  };\n};\nexport const startLogout = () => {\n  return async dispatch => {\n    await firebase.auth().signOut();\n    dispatch(logout());\n    dispatch(noteLogout);\n  };\n};\nexport const logout = () => ({\n  type: types.logout\n});","map":{"version":3,"sources":["C:/Users/JosÃ© Luis/Desktop/React/08-journal-app/src/actions/auth.js"],"names":["types","firebase","googleAuthProvider","Swal","finishLoading","removeErrorAction","setErrorAction","startLoading","noteLogout","startLoginEmailPassword","email","password","dispatch","auth","signInWithEmailAndPassword","then","user","console","log","login","uid","displayName","catch","fire","startRegisterWithEmailPasswordName","name","createUserWithEmailAndPassword","updateProfile","e","message","startGoogleLogin","signInWithPopup","type","payload","startLogout","signOut","logout"],"mappings":"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","sourcesContent":["import types from '../types/types';\r\nimport { firebase, googleAuthProvider } from '../firebase/firebaseConfig';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport { finishLoading, removeErrorAction ,setErrorAction, startLoading } from '../actions/ui'\r\nimport { noteLogout } from './notes';\r\n\r\nexport const startLoginEmailPassword = (email, password) => {\r\n\r\n    return (dispatch) => {\r\n\r\n        dispatch( startLoading() );\r\n\r\n        firebase.auth().signInWithEmailAndPassword(email, password)\r\n            .then(({ user }) => {\r\n                console.log(user);\r\n                dispatch( login(user.uid, user.displayName) );\r\n                dispatch( removeErrorAction() );\r\n                dispatch( finishLoading() );\r\n            })\r\n            .catch( () => {\r\n                dispatch( finishLoading() );\r\n                Swal.fire('Oops!', 'There were no accounts found with the provided credentials.', 'error');\r\n            });\r\n    }\r\n\r\n}\r\n\r\nexport const startRegisterWithEmailPasswordName = (email, password, name) => {\r\n\r\n    return (dispatch) => {\r\n\r\n        firebase.auth().createUserWithEmailAndPassword(email, password)\r\n            .then(async ({ user }) => {\r\n\r\n                await user.updateProfile({ displayName: name })\r\n                console.log(user);\r\n\r\n                dispatch(\r\n                    login(user.uid, user.displayName)\r\n                );\r\n\r\n            })\r\n            .catch(e => {\r\n                Swal.fire('Oops!', e.message, 'error');\r\n            });\r\n\r\n    };\r\n\r\n};\r\n\r\nexport const startGoogleLogin = () => {\r\n    return (dispatch) => {\r\n\r\n        firebase.auth().signInWithPopup(googleAuthProvider)\r\n            .then(({ user }) => {\r\n                dispatch(\r\n                    login(user.uid, user.displayName)\r\n                )\r\n            });\r\n    };\r\n};\r\n\r\nexport const login = (uid, displayName) => {\r\n\r\n    return {\r\n        type: types.login,\r\n        payload: {\r\n            uid,\r\n            displayName\r\n        }\r\n    }\r\n\r\n};\r\n\r\nexport const startLogout = () => {\r\n\r\n    return async (dispatch) => {\r\n        await firebase.auth().signOut();\r\n\r\n        dispatch( logout() );\r\n        dispatch( noteLogout );\r\n    }\r\n\r\n};\r\n\r\nexport const logout = () => ({\r\n    type: types.logout\r\n});"]},"metadata":{},"sourceType":"module"}