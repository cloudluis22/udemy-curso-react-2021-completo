{"ast":null,"code":"import _objectSpread from\"C:/Users/Jos\\xE9 Luis/Desktop/React/08-journal-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Jos\\xE9 Luis/Desktop/React/08-journal-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef}from'react';import{useSelector,useDispatch}from'react-redux';import{useForm}from'../../hooks/useForm';import{NotesAppBar}from'./NotesAppBar';import{activeNote,startDeleting}from'../../actions/notes';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var NoteScreen=function NoteScreen(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.notes;}),actNote=_useSelector.active;var _useForm=useForm(actNote),_useForm2=_slicedToArray(_useForm,3),formValues=_useForm2[0],handleInputChange=_useForm2[1],reset=_useForm2[2];var body=formValues.body,title=formValues.title;var activeId=useRef(actNote.id);useEffect(function(){if(actNote.id!==activeId.current){reset(actNote);activeId.current=actNote.id;}},[actNote,reset]);useEffect(function(){dispatch(activeNote(formValues.id,_objectSpread({},formValues)));},[formValues,dispatch]);var handleDelete=function handleDelete(){dispatch(startDeleting(activeId.current));};return/*#__PURE__*/_jsxs(\"div\",{className:\"notes__main-content\",children:[/*#__PURE__*/_jsx(NotesAppBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"notes__content\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Put a title here\",className:\"notes__title-input\",autoComplete:\"off\",name:\"title\",value:title,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"What happened today?\",className:\"notes__textarea\",name:\"body\",value:body,onChange:handleInputChange}),actNote.url&&/*#__PURE__*/_jsx(\"div\",{className:\"notes__image\",children:/*#__PURE__*/_jsx(\"img\",{src:actNote.url,alt:\"imagen\"})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:handleDelete,children:\" Delete \"})]});};","map":{"version":3,"sources":["C:/Users/JosÃ© Luis/Desktop/React/08-journal-app/src/components/notes/NoteScreen.js"],"names":["React","useEffect","useRef","useSelector","useDispatch","useForm","NotesAppBar","activeNote","startDeleting","NoteScreen","dispatch","state","notes","actNote","active","formValues","handleInputChange","reset","body","title","activeId","id","current","handleDelete","url"],"mappings":"yQAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,MAA3B,KAAyC,OAAzC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,OAAT,KAAwB,qBAAxB,CACA,OAASC,WAAT,KAA4B,eAA5B,CACA,OAASC,UAAT,CAAqBC,aAArB,KAA0C,qBAA1C,C,wFAEA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAE5B,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CAEA,iBAA4BD,WAAW,CAAC,SAAAQ,KAAK,QAAIA,CAAAA,KAAK,CAACC,KAAV,EAAN,CAAvC,CAAgBC,OAAhB,cAAQC,MAAR,CACA,aAAiDT,OAAO,CAACQ,OAAD,CAAxD,sCAAQE,UAAR,cAAoBC,iBAApB,cAAuCC,KAAvC,cAEA,GAAQC,CAAAA,IAAR,CAAwBH,UAAxB,CAAQG,IAAR,CAAcC,KAAd,CAAwBJ,UAAxB,CAAcI,KAAd,CAEA,GAAMC,CAAAA,QAAQ,CAAGlB,MAAM,CAAEW,OAAO,CAACQ,EAAV,CAAvB,CAEApB,SAAS,CAAE,UAAM,CAEb,GAAIY,OAAO,CAACQ,EAAR,GAAeD,QAAQ,CAACE,OAA5B,CAAqC,CACjCL,KAAK,CAACJ,OAAD,CAAL,CACAO,QAAQ,CAACE,OAAT,CAAmBT,OAAO,CAACQ,EAA3B,CACH,CAEJ,CAPQ,CAON,CAACR,OAAD,CAAUI,KAAV,CAPM,CAAT,CASAhB,SAAS,CAAC,UAAM,CAEZS,QAAQ,CAAEH,UAAU,CAAEQ,UAAU,CAACM,EAAb,kBAAsBN,UAAtB,EAAZ,CAAR,CAEH,CAJQ,CAIN,CAACA,UAAD,CAAaL,QAAb,CAJM,CAAT,CAMA,GAAMa,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAEvBb,QAAQ,CAAEF,aAAa,CAAEY,QAAQ,CAACE,OAAX,CAAf,CAAR,CACH,CAHD,CAKA,mBACI,aAAK,SAAS,CAAC,qBAAf,wBACI,KAAC,WAAD,IADJ,cAGI,aAAK,SAAS,CAAC,gBAAf,wBACI,cACI,IAAI,CAAC,MADT,CAEI,WAAW,CAAC,kBAFhB,CAGI,SAAS,CAAC,oBAHd,CAII,YAAY,CAAC,KAJjB,CAKI,IAAI,CAAC,OALT,CAMI,KAAK,CAAGH,KANZ,CAOI,QAAQ,CAAGH,iBAPf,EADJ,cAUI,iBACI,WAAW,CAAC,sBADhB,CAEI,SAAS,CAAC,iBAFd,CAGI,IAAI,CAAC,MAHT,CAII,KAAK,CAAEE,IAJX,CAKI,QAAQ,CAAGF,iBALf,EAVJ,CAoBSH,OAAO,CAACW,GAAT,eACA,YAAK,SAAS,CAAC,cAAf,uBACI,YACI,GAAG,CAAGX,OAAO,CAACW,GADlB,CAEI,GAAG,CAAC,QAFR,EADJ,EArBR,GAHJ,cAkCQ,eAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAGD,YAA7C,sBAlCR,GADJ,CAuCH,CAtEM","sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport { NotesAppBar } from './NotesAppBar';\r\nimport { activeNote, startDeleting } from '../../actions/notes'\r\n\r\nexport const NoteScreen = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const { active: actNote } = useSelector(state => state.notes);\r\n    const [ formValues, handleInputChange, reset ] = useForm(actNote);\r\n\r\n    const { body, title } = formValues;\r\n\r\n    const activeId = useRef( actNote.id );\r\n\r\n    useEffect( () => {\r\n\r\n        if (actNote.id !== activeId.current) {\r\n            reset(actNote);\r\n            activeId.current = actNote.id;\r\n        }\r\n\r\n    }, [actNote, reset]);\r\n\r\n    useEffect(() => {\r\n\r\n        dispatch( activeNote( formValues.id, { ...formValues } ) ) ;\r\n\r\n    }, [formValues, dispatch])\r\n\r\n    const handleDelete = () => {\r\n\r\n        dispatch( startDeleting( activeId.current ) );\r\n    }\r\n\r\n    return (\r\n        <div className=\"notes__main-content\">\r\n            <NotesAppBar />\r\n\r\n            <div className=\"notes__content\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Put a title here\"\r\n                    className=\"notes__title-input\"\r\n                    autoComplete=\"off\"\r\n                    name=\"title\"\r\n                    value={ title }\r\n                    onChange={ handleInputChange }\r\n                />\r\n                <textarea\r\n                    placeholder=\"What happened today?\"\r\n                    className=\"notes__textarea\"\r\n                    name=\"body\"\r\n                    value={body}\r\n                    onChange={ handleInputChange }\r\n                >\r\n                    </textarea>\r\n\r\n                {\r\n                    (actNote.url) &&\r\n                    <div className=\"notes__image\">\r\n                        <img\r\n                            src={ actNote.url }\r\n                            alt=\"imagen\"\r\n                        />\r\n                    </div>\r\n                }\r\n\r\n            </div>\r\n\r\n                <button className=\"btn btn-danger\" onClick={ handleDelete } > Delete </button>\r\n\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}