{"ast":null,"code":"import _slicedToArray from\"C:/Users/Jos\\xE9 Luis/Desktop/React/08-journal-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useForm}from'../../hooks/useForm';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import validator from'validator';import{removeErrorAction,setErrorAction}from'../../actions/ui';import{startRegisterWithEmailPasswordName}from'../../actions/auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var RegisterScreen=function RegisterScreen(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.ui;}),msgError=_useSelector.msgError;var _useForm=useForm({name:'',email:'',password:'',password2:''}),_useForm2=_slicedToArray(_useForm,2),formValues=_useForm2[0],handleInputChange=_useForm2[1];var name=formValues.name,email=formValues.email,password=formValues.password,password2=formValues.password2;var handleRegister=function handleRegister(evt){evt.preventDefault();if(isFormValid()){dispatch(startRegisterWithEmailPasswordName(email,password));}};var isFormValid=function isFormValid(){if(name.trim().length===0){dispatch(setErrorAction('name is required'));return false;}else if(!validator.isEmail(email)){dispatch(setErrorAction('email is not valid'));return false;}else if(password!==password2||password.length<6){dispatch(setErrorAction('Password should be at least 6 characters and match with each other.'));return false;}dispatch(removeErrorAction());return true;};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"auth__title\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegister,className:\"animate__animated animate__fadeIn animate__faster\",children:[msgError&&/*#__PURE__*/_jsx(\"div\",{className:\"auth__alert-error\",children:msgError}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Name\",name:\"name\",className:\"auth__input\",autoComplete:\"off\",value:name,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"E-mail\",name:\"email\",className:\"auth__input\",autoComplete:\"off\",value:email,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",name:\"password\",className:\"auth__input\",value:password,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Confirm password\",name:\"password2\",className:\"auth__input\",value:password2,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-block mb-5\",children:\" Register \"}),/*#__PURE__*/_jsx(Link,{to:\"/auth/login\",className:\"link\",children:\" Already registered? \"})]})]});};export default RegisterScreen;","map":{"version":3,"sources":["C:/Users/JosÃ© Luis/Desktop/React/08-journal-app/src/components/auth/RegisterScreen.js"],"names":["React","useForm","useDispatch","useSelector","Link","validator","removeErrorAction","setErrorAction","startRegisterWithEmailPasswordName","RegisterScreen","dispatch","state","ui","msgError","name","email","password","password2","formValues","handleInputChange","handleRegister","evt","preventDefault","isFormValid","trim","length","isEmail"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport validator from 'validator'\r\nimport { removeErrorAction, setErrorAction } from '../../actions/ui';\r\nimport { startRegisterWithEmailPasswordName } from '../../actions/auth';\r\n\r\nconst RegisterScreen = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const { msgError } = useSelector( state => state.ui );\r\n\r\n    const [ formValues, handleInputChange ] = useForm({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        password2: ''\r\n    });\r\n\r\n    const { name, email, password, password2 } = formValues;\r\n\r\n    const handleRegister = (evt) => {\r\n        evt.preventDefault();\r\n\r\n        if ( isFormValid() ) {\r\n            dispatch(startRegisterWithEmailPasswordName(email, password));\r\n        }\r\n\r\n    }\r\n\r\n    const isFormValid = () => {\r\n\r\n        if (name.trim().length === 0) {\r\n            dispatch( setErrorAction('name is required') );\r\n            return false;\r\n\r\n        } else if (!validator.isEmail(email)) {\r\n            dispatch( setErrorAction('email is not valid') );\r\n            return false;\r\n\r\n        } else if (password !== password2 || password.length < 6) {\r\n            dispatch( setErrorAction('Password should be at least 6 characters and match with each other.') );\r\n            return false;\r\n        }\r\n\r\n        dispatch( removeErrorAction() );\r\n\r\n        return true;\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <h3 className=\"auth__title\">Register</h3>\r\n\r\n            <form onSubmit={handleRegister} className=\"animate__animated animate__fadeIn animate__faster\">\r\n\r\n                {   msgError &&\r\n                    (\r\n                        <div className=\"auth__alert-error\">\r\n                            { msgError }\r\n                        </div>\r\n                    )\r\n                }\r\n\r\n                <input type=\"text\" placeholder=\"Name\" name=\"name\" className=\"auth__input\" autoComplete=\"off\" value={name} onChange={ handleInputChange } />\r\n            <input type=\"text\" placeholder=\"E-mail\" name=\"email\" className=\"auth__input\" autoComplete=\"off\" value={email} onChange={ handleInputChange } />\r\n            <input type=\"password\" placeholder=\"Password\" name=\"password\" className=\"auth__input\" value={password} onChange={ handleInputChange } />\r\n            <input type=\"password\" placeholder=\"Confirm password\" name=\"password2\" className=\"auth__input\" value={password2} onChange={ handleInputChange }/>\r\n            <button type=\"submit\" className=\"btn btn-primary btn-block mb-5\"> Register </button>\r\n\r\n            <Link to=\"/auth/login\" className=\"link\"> Already registered? </Link>\r\n\r\n        </form>\r\n\r\n    </>\r\n    )\r\n}\r\n\r\nexport default RegisterScreen;"]},"metadata":{},"sourceType":"module"}