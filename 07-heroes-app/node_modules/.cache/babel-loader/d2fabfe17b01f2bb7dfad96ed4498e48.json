{"ast":null,"code":"import _objectSpread from\"C:/Users/Jos\\xE9 Luis/Desktop/React/07-heroes-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Jos\\xE9 Luis/Desktop/React/07-heroes-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useMemo}from'react';import queryString from'query-string';import{useLocation}from'react-router-dom';import{useForm}from'../../hooks/useForm';import{HeroCard}from'../heroes/HeroCard';import{getHeroesByName}from'../selectors/getHeroesByName';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var SearchScreen=function SearchScreen(_ref){var history=_ref.history;var location=useLocation();var _queryString$parse=queryString.parse(location.search),_queryString$parse$q=_queryString$parse.q,q=_queryString$parse$q===void 0?'':_queryString$parse$q;console.log(q);var _useForm=useForm({searchText:q}),_useForm2=_slicedToArray(_useForm,3),formValues=_useForm2[0],handleInputChange=_useForm2[1],reset=_useForm2[2];var searchText=formValues.searchText;var heroesFiltered=useMemo(function(){return getHeroesByName(q);},[q]);var handleSearch=function handleSearch(evt){evt.preventDefault();history.push(\"?q=\".concat(searchText));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\" Search Screen \"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-4\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\" Search Form \"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search Hero\",className:\"form-control\",name:\"searchText\",value:searchText,onChange:handleInputChange,autoComplete:\"off\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-2 mt-2\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-outline-primary\",children:\" Search \"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-7\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\" Results \"}),/*#__PURE__*/_jsx(\"hr\",{}),q===''&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",children:\" Search a hero \"}),q!==''&&heroesFiltered.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",children:[\" \",q,\" not found, try another search \"]}),heroesFiltered.map(function(hero){return/*#__PURE__*/_jsx(HeroCard,_objectSpread({},hero),hero.id);})]})]})]});};","map":{"version":3,"sources":["C:/Users/JosÃ© Luis/Desktop/React/07-heroes-app/src/components/search/SearchScreen.js"],"names":["React","useMemo","queryString","useLocation","useForm","HeroCard","getHeroesByName","SearchScreen","history","location","parse","search","q","console","log","searchText","formValues","handleInputChange","reset","heroesFiltered","handleSearch","evt","preventDefault","push","length","map","hero","id"],"mappings":"uQAAA,MAAOA,CAAAA,KAAP,EAAgBC,OAAhB,KAA+B,OAA/B,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,OAAT,KAAwB,qBAAxB,CACA,OAASC,QAAT,KAAyB,oBAAzB,CACA,OAASC,eAAT,KAAgC,8BAAhC,C,wFAEA,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CAEzC,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CACA,uBAAmBD,WAAW,CAACQ,KAAZ,CAAkBD,QAAQ,CAACE,MAA3B,CAAnB,yCAAQC,CAAR,CAAQA,CAAR,+BAAY,EAAZ,sBACAC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EAEA,aAA+CR,OAAO,CAAC,CACnDW,UAAU,CAAEH,CADuC,CAAD,CAAtD,sCAAOI,UAAP,cAAmBC,iBAAnB,cAAsCC,KAAtC,cAIA,GAAQH,CAAAA,UAAR,CAAuBC,UAAvB,CAAQD,UAAR,CAED,GAAMI,CAAAA,cAAc,CAAGlB,OAAO,CAAC,iBAAMK,CAAAA,eAAe,CAAEM,CAAF,CAArB,EAAD,CAA6B,CAACA,CAAD,CAA7B,CAA9B,CAEC,GAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,GAAD,CAAS,CAC1BA,GAAG,CAACC,cAAJ,GACAd,OAAO,CAACe,IAAR,cAAmBR,UAAnB,GACH,CAHD,CAKA,mBACI,oCAEI,uCAFJ,cAGI,aAHJ,cAKI,aAAK,SAAS,CAAC,KAAf,wBAEI,aAAK,SAAS,CAAC,OAAf,wBAEI,qCAFJ,cAGI,aAHJ,cAKI,cAAM,QAAQ,CAAEK,YAAhB,wBACI,cACI,IAAI,CAAC,MADT,CAEI,WAAW,CAAC,aAFhB,CAGI,SAAS,CAAC,cAHd,CAII,IAAI,CAAC,YAJT,CAKI,KAAK,CAAEL,UALX,CAMI,QAAQ,CAAEE,iBANd,CAOI,YAAY,CAAC,KAPjB,EADJ,cAUI,YAAK,SAAS,CAAC,mBAAf,uBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,yBAAhC,sBADJ,EAVJ,GALJ,GAFJ,cAyBI,aAAK,SAAS,CAAC,OAAf,wBACI,iCADJ,cAEI,aAFJ,CAKSL,CAAC,GAAK,EAAP,eACA,YAAK,SAAS,CAAC,kBAAf,6BANR,CAUSA,CAAC,GAAK,EAAN,EAAYO,cAAc,CAACK,MAAf,GAA0B,CAAvC,eACA,aAAK,SAAS,CAAC,oBAAf,eAAuCZ,CAAvC,qCAXR,CAgBQO,cAAc,CAACM,GAAf,CAAmB,SAAAC,IAAI,qBACnB,KAAC,QAAD,kBAA4BA,IAA5B,EAAeA,IAAI,CAACC,EAApB,CADmB,EAAvB,CAhBR,GAzBJ,GALJ,GADJ,CAyDH,CA5EM","sourcesContent":["import React, { useMemo } from 'react';\r\nimport queryString from 'query-string';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport { HeroCard } from '../heroes/HeroCard';\r\nimport { getHeroesByName } from '../selectors/getHeroesByName';\r\n\r\nexport const SearchScreen = ({ history }) => {\r\n\r\n    const location = useLocation();\r\n    const { q = '' } = queryString.parse(location.search);\r\n    console.log(q);\r\n\r\n    const [formValues, handleInputChange, reset] = useForm({\r\n        searchText: q\r\n    });\r\n\r\n    const { searchText } = formValues;\r\n\r\n   const heroesFiltered = useMemo(() => getHeroesByName( q ), [q]);\r\n\r\n    const handleSearch = (evt) => {\r\n        evt.preventDefault();\r\n        history.push(`?q=${searchText}`);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n\r\n            <h1> Search Screen </h1>\r\n            <hr />\r\n\r\n            <div className=\"row\">\r\n\r\n                <div className=\"col-4\">\r\n\r\n                    <h4> Search Form </h4>\r\n                    <hr />\r\n\r\n                    <form onSubmit={handleSearch}>\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Search Hero\"\r\n                            className=\"form-control\"\r\n                            name=\"searchText\"\r\n                            value={searchText}\r\n                            onChange={handleInputChange}\r\n                            autoComplete=\"off\"\r\n                        />\r\n                        <div className=\"d-grid gap-2 mt-2\">\r\n                            <button type=\"submit\" className=\"btn btn-outline-primary\"> Search </button>\r\n                        </div>\r\n\r\n                    </form>\r\n\r\n                </div>\r\n\r\n                <div className=\"col-7\">\r\n                    <h4> Results </h4>\r\n                    <hr />\r\n\r\n                    {\r\n                        (q === '') &&\r\n                        <div className=\"alert alert-info\"> Search a hero </div>\r\n                    }\r\n\r\n                    {\r\n                        (q !== '' && heroesFiltered.length === 0) &&\r\n                        <div className=\"alert alert-danger\"> { q } not found, try another search </div>\r\n                    }\r\n\r\n                    {\r\n\r\n                        heroesFiltered.map(hero => (\r\n                            <HeroCard key={hero.id} {...hero} />\r\n                        ))\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}